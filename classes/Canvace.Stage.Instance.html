<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Canvace &bull; Canvace.Stage.Instance - API reference</title>
	<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0" />
	<link href="http://fonts.googleapis.com/css?family=Titillium+Web:300" rel="stylesheet" type="text/css">    
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29915000-1']);
  _gaq.push(['_setDomainName', 'canvace.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body>
<div id="doc">
    <div id="hd" class="header">
        <div class="inner">
			<a href="/" class="logo"><img src="../assets/media/logo.png" alt="API reference" /></a>
			<div class="version">
				API reference for v<b>1.0.0</b>
				&bull;
				For inquiries, contact <a href="mailto:support@canvace.com">support@canvace.com</a>.
			</div>
        </div>
    </div>

    <div class="wrapper">
        <div id="bd" class="yui3-g contents">
            <div class="yui3-u-1-4">
                <div id="docs-sidebar" class="sidebar apidocs">
                    <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Canvace.html">Canvace</a></li>
            
                <li><a href="../classes/Canvace.Ajax.html">Canvace.Ajax</a></li>
            
                <li><a href="../classes/Canvace.Ajax.Request.html">Canvace.Ajax.Request</a></li>
            
                <li><a href="../classes/Canvace.Animator.html">Canvace.Animator</a></li>
            
                <li><a href="../classes/Canvace.Animator.Easing.html">Canvace.Animator.Easing</a></li>
            
                <li><a href="../classes/Canvace.AppCache.html">Canvace.AppCache</a></li>
            
                <li><a href="../classes/Canvace.Astar.html">Canvace.Astar</a></li>
            
                <li><a href="../classes/Canvace.Astar.Node.html">Canvace.Astar.Node</a></li>
            
                <li><a href="../classes/Canvace.Audio.html">Canvace.Audio</a></li>
            
                <li><a href="../classes/Canvace.Audio.SourceNode.html">Canvace.Audio.SourceNode</a></li>
            
                <li><a href="../classes/Canvace.Buckets.html">Canvace.Buckets</a></li>
            
                <li><a href="../classes/Canvace.Buckets.Entity.html">Canvace.Buckets.Entity</a></li>
            
                <li><a href="../classes/Canvace.DebugEffect.html">Canvace.DebugEffect</a></li>
            
                <li><a href="../classes/Canvace.Heap.html">Canvace.Heap</a></li>
            
                <li><a href="../classes/Canvace.Keyboard.html">Canvace.Keyboard</a></li>
            
                <li><a href="../classes/Canvace.List.html">Canvace.List</a></li>
            
                <li><a href="../classes/Canvace.List.Accessor.html">Canvace.List.Accessor</a></li>
            
                <li><a href="../classes/Canvace.Loader.html">Canvace.Loader</a></li>
            
                <li><a href="../classes/Canvace.Matrix.html">Canvace.Matrix</a></li>
            
                <li><a href="../classes/Canvace.Mouse.html">Canvace.Mouse</a></li>
            
                <li><a href="../classes/Canvace.MultiSet.html">Canvace.MultiSet</a></li>
            
                <li><a href="../classes/Canvace.ParametricStateMachine.html">Canvace.ParametricStateMachine</a></li>
            
                <li><a href="../classes/Canvace.Polyfill.html">Canvace.Polyfill</a></li>
            
                <li><a href="../classes/Canvace.Renderer.html">Canvace.Renderer</a></li>
            
                <li><a href="../classes/Canvace.RenderLoop.html">Canvace.RenderLoop</a></li>
            
                <li><a href="../classes/Canvace.RumbleEffect.html">Canvace.RumbleEffect</a></li>
            
                <li><a href="../classes/Canvace.Stage.html">Canvace.Stage</a></li>
            
                <li><a href="../classes/Canvace.Stage.Entity.html">Canvace.Stage.Entity</a></li>
            
                <li><a href="../classes/Canvace.Stage.Instance.html">Canvace.Stage.Instance</a></li>
            
                <li><a href="../classes/Canvace.Stage.Range.html">Canvace.Stage.Range</a></li>
            
                <li><a href="../classes/Canvace.StageRenderer.html">Canvace.StageRenderer</a></li>
            
                <li><a href="../classes/Canvace.StateMachine.html">Canvace.StateMachine</a></li>
            
                <li><a href="../classes/Canvace.TileMap.html">Canvace.TileMap</a></li>
            
                <li><a href="../classes/Canvace.TileMap.Tile.html">Canvace.TileMap.Tile</a></li>
            
                <li><a href="../classes/Canvace.Timing.html">Canvace.Timing</a></li>
            
                <li><a href="../classes/Canvace.View.html">Canvace.View</a></li>
            
                <li><a href="../classes/Canvace.View.Synchronizer.html">Canvace.View.Synchronizer</a></li>
            
                <li><a href="../classes/Canvace.Visibility.html">Canvace.Visibility</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/Canvace.html">Canvace</a></li>
            
            </ul>
        </div>
    </div>
</div>

                </div>
            </div>

            <div class="yui3-u-3-4">
                    <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


                <div class="apidocs">
                    <div id="docs-main">
                        <div class="content">
                            <h1>Canvace.Stage.Instance Class</h1>
<div class="box meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="../files/src_Stage.js.html#l264"><code>src&#x2F;Stage.js:264</code></a>
        </div>
    

    
        
            Module: <a href="../modules/Canvace.html">Canvace</a>
        
    

    
</div>



<div class="box intro">
    <p>Represents an entity instance in the stage.</p>
<p>This class cannot be instantiated directly, instances can be obtained
using other methods such as <code>Canvace.Stage.forEachInstance</code>,
<code>Canvace.Stage.getInstance</code> or their <code>Canvace.Stage.Entity</code> equivalents.</p>
<p>In every moment, an entity instance is characterized by the following
state:
    <ul>
    <li>a position vector,</li>
    <li>a velocity vector,</li>
    <li>a uniform velocity vector,</li>
    <li>an acceleration vector.</li>
    </ul></p>
<p>Each one of these vectors is a vector in a three-dimensional space and is
thus characterized by three real components <code>i</code>, <code>j</code> and <code>k</code>.</p>
<p>An instance can be &quot;ticked&quot;. Ticking an instance means updating its state
based on the following physics rules:
    <ul>
    <li>the acceleration vector is not changed,</li>
    <li>the uniform velocity vector is not changed,</li>
    <li>the velocity vector is updated by adding the acceleration
        vector,</li>
    <li>the position vector is updated by adding the velocity and uniform
        velocity vectors.</li>
    </ul></p>
<p>To tick an instance use the <code>Canvace.Stage.Instance.tick</code> method.</p>
<p>Ticking an instance, and thus updating its physics state, is not enough
in order to update the actual position of its frames in the graphical
rendering. Another separate operation, called &quot;update&quot;, is necessary.</p>
<p>An instance can be updated by invoking its <code>update</code> method.</p>
<p>You do not usually need to invoke neither the <code>tick</code> nor the <code>update</code>
method directly, as they are automatically invoked by the global
<code>Canvace.Stage.tick</code> and <code>Canvace.Stage.update</code> methods which, in turn,
are automatically invoked by the <code>RenderLoop</code>.</p>
<p>Both the <code>Canvace.Stage.Instance.tick</code> and the
<code>Canvace.Stage.Instance.update</code> methods are invoked <em>only</em> for the
instances that have physics enabled (physics can be toggled per-entity in
the Canvace Development Environment).</p>
<p>The point in having two separate operations, &quot;tick&quot; and &quot;update&quot;, to do
one thing, which is moving an entity instance in the game, is that other
operations can be accomplished between the two. These operations
typically consist in further physics processing, e.g. collision testing.</p>

</div>



<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
        
        
        
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

            
                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                        
                            <li class="index-item method">
                                <a href="#method_collidesWithInstance">collidesWithInstance</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_collidesWithTiles">collidesWithTiles</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_collision">collision</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_fork">fork</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getAcceleration">getAcceleration</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getEntity">getEntity</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getEntityId">getEntityId</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getFullVelocity">getFullVelocity</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getId">getId</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getPosition">getPosition</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getProjectedPosition">getProjectedPosition</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getProjectedRectangle">getProjectedRectangle</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getProperties">getProperties</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getUniformVelocity">getUniformVelocity</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getVelocity">getVelocity</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_inRange">inRange</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_isPhysicsEnabled">isPhysicsEnabled</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_isRemoved">isRemoved</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_rectangleCollision">rectangleCollision</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_remove">remove</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_replaceWith">replaceWith</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_testCollision">testCollision</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_testTileCollision">testTileCollision</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_tick">tick</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_tileCollision">tileCollision</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_update">update</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            

            

            
        </div>

        
            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

                
                    <div id="method_collidesWithInstance" class="method item">
    <h3 class="name"><code>collidesWithInstance</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>otherInstance</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l932"><code>src&#x2F;Stage.js:932</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>TODO</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">otherInstance</code>
                        <span class="type">Canvace.Instance</span>
                    

                    

                    <div class="param-description">
                        <p>TODO</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>:
                    
                    <p>TODO</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_collidesWithTiles" class="method item">
    <h3 class="name"><code>collidesWithTiles</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code class="optional">[collides]</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[tileMap]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l704"><code>src&#x2F;Stage.js:704</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>TODO</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name optional">[collides]</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    

                    <div class="param-description">
                        <p>TODO</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name optional">[tileMap]</code>
                        <span class="type"><a href="../classes/Canvace.TileMap.html" class="crosslink">Canvace.TileMap</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    

                    <div class="param-description">
                        <p>TODO</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>:
                    
                    <p>TODO</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_collision" class="method item">
    <h3 class="name"><code>collision</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>otherInstance</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l877"><code>src&#x2F;Stage.js:877</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Reacts to possible collisions between this entity instance and the
specified one.</p>
<p>This method invokes the <code>Canvace.Stage.Instance.rectangleCollision</code>
method of the specified <em>other</em> instance passing the position of
<em>this</em> instance, its current full velocity vector and the bounding
box of its entity as set in the Canvace Development Environment.</p>
<p>It then reacts to the collision by updating the state of <em>this</em>
instance trying to resume a regular configuration where there is no
collision.</p>
<p>Specifically, the position of the instance is updated by adding the I
and J components of the vector returned by <code>rectangleCollision</code> and
each one of the I and J components of the velocity vector is set to
zero only if its sign is the opposite of the corresponding component
in the vector returned by <code>rectangleCollision</code>.</p>
<p>Note that only the velocity vector is changed, the uniform velocity
vector is not.</p>
<p>The vector returned by <code>Canvace.Stage.Instance.rectangleCollision</code>
is also forwarded to the caller.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">otherInstance</code>
                        <span class="type"><a href="../classes/Canvace.Stage.Instance.html" class="crosslink">Canvace.Stage.Instance</a></span>
                    

                    

                    <div class="param-description">
                        <p>Another <code>Instance</code>
object that is tested for collisions with this instance.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>The vector object returned by the
<code>Canvace.Stage.Instance.rectangleCollision</code> method.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_fork" class="method item">
    <h3 class="name"><code>fork</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code class="optional">[entity]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="../classes/Canvace.Stage.Instance.html" class="crosslink">Canvace.Stage.Instance</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l1055"><code>src&#x2F;Stage.js:1055</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Duplicates the instance, also replicating its velocity, uniform
velocity and acceleration vectors.</p>
<p>An entity may be optionally specified as a <code>Canvace.Stage.Entity</code>
object to the <code>entity</code> argument so that the new instance refers to
another entity.</p>
<p>The new instance is returned as a <code>Canvace.Stage.Instance</code> object.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name optional">[entity]</code>
                        <span class="type"><a href="../classes/Canvace.Stage.Entity.html" class="crosslink">Canvace.Stage.Entity</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    

                    <div class="param-description">
                        <p>An optional entity the new
instance refers to. The new instance refers to the same entity of
this instance if this argument is not specified.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="../classes/Canvace.Stage.Instance.html" class="crosslink">Canvace.Stage.Instance</a></span>:
                    
                    <p>The new instance.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_getAcceleration" class="method item">
    <h3 class="name"><code>getAcceleration</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l577"><code>src&#x2F;Stage.js:577</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Returns the instance&#39;s own acceleration vector as an object
containing three fields, <code>i</code>, <code>j</code> and <code>k</code>, indicating the respective
components of the vector.</p>
<p>The acceleration vector is initially <code>(0, 0, 0)</code>.</p>
<p>Note that the original acceleration vector object associated to the
instance is returned: changes made to the returned object affect the
acceleration of the instance. You may use the returned object to
manually control the acceleration of the instance.</p>

    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>The instance&#39;s acceleration vector as an object
containing three fields, <code>i</code>, <code>j</code> and <code>k</code>, indicating the respective
components of the vector.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_getEntity" class="method item">
    <h3 class="name"><code>getEntity</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"><a href="../classes/Canvace.Stage.Entity.html" class="crosslink">Canvace.Stage.Entity</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l378"><code>src&#x2F;Stage.js:378</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Returns a <code>Canvace.Stage.Entity</code> object representing the entity whose
instance is represented by this object.</p>

    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="../classes/Canvace.Stage.Entity.html" class="crosslink">Canvace.Stage.Entity</a></span>:
                    
                    <p>This instance&#39;s entity as a
<code>Canvace.Stage.Entity</code> object.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_getEntityId" class="method item">
    <h3 class="name"><code>getEntityId</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l368"><code>src&#x2F;Stage.js:368</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Returns the numeric ID of the entity of this instance.</p>

    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>:
                    
                    <p>The numeric ID of the entity of this instance.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_getFullVelocity" class="method item">
    <h3 class="name"><code>getFullVelocity</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l544"><code>src&#x2F;Stage.js:544</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Returns the full velocity vector of the instance.</p>
<p>The full velocity vector is the velocity vector plus the uniform
velocity vector.</p>
<p>The vector is returned as an object containing three fields, <code>i</code>, <code>j</code>
and <code>k</code>, indicating the respective components of the vector.</p>
<p>A new object is created, filled and returned every time this method
is called; modifying its content does not have any effects on the
state of the instance. The velocity and uniform velocity of the
instance must be controlled independently.</p>

    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>The instance&#39;s full velocity vector as an object
containing three fields, <code>i</code>, <code>j</code> and <code>k</code>, indicating the respective
components of the vector.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_getId" class="method item">
    <h3 class="name"><code>getId</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l339"><code>src&#x2F;Stage.js:339</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Returns the numeric ID of the instance, or <code>null</code> if this instance
was not initially present in the JSON data exported from the Canvace
Development Environment and was later added to the stage.</p>

    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>:
                    
                    <p>The numeric ID of the instance, or <code>null</code> if the
instance has no ID.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_getPosition" class="method item">
    <h3 class="name"><code>getPosition</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l400"><code>src&#x2F;Stage.js:400</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Returns the instance&#39;s <code>(i, j, k)</code> position vector as an object
containing three fields, <code>i</code>, <code>j</code> and <code>k</code>.</p>
<p>Note that the original position vector object associated to the
instance is returned: changes made to the returned object affect the
position of the instance. You may use the returned object to manually
control the position of the instance.</p>
<p>Also note that changing the position of an instance by modifying the
returned object does not affect its <em>rendered</em> position until the
<code>update</code> method is called.</p>

    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>An object containing three fields, <code>i</code>, <code>j</code> and <code>k</code>,
indicating the current position.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_getProjectedPosition" class="method item">
    <h3 class="name"><code>getProjectedPosition</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l421"><code>src&#x2F;Stage.js:421</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Returns the instance&#39;s projected position, which is its <code>(i, j, k)</code>
position left-multiplied by the projection matrix.</p>
<p>Note that this method returns the last calculated projected position,
which means it does not reflect changes made by the <code>tick</code> method or
by changing the position, velocity or uniform velocity objects
returned by the <code>getPosition</code>, <code>getVelocity</code>, and
<code>getUniformVelocity</code> methods. For changes to be reflected, the
instance must be first updated using the <code>update</code> method.</p>
<p>The position is returned as an object containing three fields, <code>x</code>,
<code>y</code> and <code>z</code>, containing the <code>i</code>, <code>j</code> and <code>k</code> projected coordinates,
respectively.</p>

    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>The projected position as an object containing three
<code>x</code>, <code>y</code> and <code>z</code> fields.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_getProjectedRectangle" class="method item">
    <h3 class="name"><code>getProjectedRectangle</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l442"><code>src&#x2F;Stage.js:442</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Returns the 2D rectangular area corresponding to the instances&#39;s
bounds.</p>
<p>Note that this method returns the last calculated projected
rectangle, which means it does not reflect changes made by such
methods as <code>tick</code>, <code>moveBy</code>, <code>setPosition</code> and so on. For changes to
be reflected, the instance must be first updated using the <code>update</code>
method.</p>
<p>The rectangle is returned as an object containing four fields: the
<code>x</code> and <code>y</code> coordinates of the origin and the <code>width</code> and <code>height</code>.</p>
<p>The coordinates of the origin are calculated by left-multiplying the
<code>(i, j, k)</code> position vector of the instance by the projection matrix
and adding the entity&#39;s offset. The width and height are simply
copied from the entity descriptor.</p>

    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>An object that describes the projected rectangle and
contains four fields: <code>x</code>, <code>y</code>, <code>width</code> and <code>height</code>.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_getProperties" class="method item">
    <h3 class="name"><code>getProperties</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l352"><code>src&#x2F;Stage.js:352</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Returns the entity instance&#39;s custom properties as set in the Canvace
Development Environment.</p>
<p>The original <code>properties</code> object is returned, so that modifications
actually affect the instance&#39;s properties.</p>

    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>The entity instance&#39;s <code>properties</code> field containing
the custom properties the user set in the Canvace Development
Environment.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_getUniformVelocity" class="method item">
    <h3 class="name"><code>getUniformVelocity</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l524"><code>src&#x2F;Stage.js:524</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Returns the uniform velocity vector of this instance.</p>
<p>The vector is returned as an object containing three fields, <code>i</code>, <code>j</code>
and <code>k</code>, indicating the respective components of the vector.</p>
<p>Note that the original uniform velocity vector object associated to
the instance is returned: changes made to the returned object affect
the uniform velocity of the instance. You may use the returned object
to manually control the uniform velocity of the instance.</p>

    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>The instance&#39;s uniform velocity vector as an object
containing three fields, <code>i</code>, <code>j</code> and <code>k</code>, indicating the respective
components of the vector.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_getVelocity" class="method item">
    <h3 class="name"><code>getVelocity</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l500"><code>src&#x2F;Stage.js:500</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Returns the velocity vector of this instance as an object containing
three fields, <code>i</code>, <code>j</code> and <code>k</code>, indicating the respective components
of the vector. The velocity vector is initially <code>(0, 0, 0)</code>.</p>
<p>This velocity vector is influenced by the acceleration vector of the
instance: the components of the acceleration vector are added to the
respective components of the velocity vector each time the instance
is ticked using the <code>tick</code> method.</p>
<p>Note that the original velocity vector object associated to the
instance is returned: changes made to the returned object affect the
velocity of the instance. You may use the returned object to manually
control the velocity of the instance.</p>

    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>The instance&#39;s velocity vector as an object
containing three fields, <code>i</code>, <code>j</code> and <code>k</code>, indicating the respective
components of the vector.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_inRange" class="method item">
    <h3 class="name"><code>inRange</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>width</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>height</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l466"><code>src&#x2F;Stage.js:466</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Indicates whether the instance is in or out of range.</p>
<p>An entity instance is in range when its projected position (as
returned by the <code>getProjectedPosition</code> method) falls within the
&quot;range&quot; area, which is a rectangular area centered in the center of
the viewport. The range area is usually much larger than the viewport
area.</p>
<p>This method is useful, for example, for discarding too far entity
instances when stepping/ticking the physics of the game in order to
improve performance, and is used by the <code>Stage.Range</code> inner class.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">width</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                    

                    

                    <div class="param-description">
                        <p>The width of the range area.</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">height</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                    

                    

                    <div class="param-description">
                        <p>The height of the range area.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>:
                    
                    <p><code>true</code> if this instance falls within the specified
range area, <code>false</code> otherwise.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_isPhysicsEnabled" class="method item">
    <h3 class="name"><code>isPhysicsEnabled</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l390"><code>src&#x2F;Stage.js:390</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Indicates whether physics is enabled for this instance&#39;s entity.</p>

    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>:
                    
                    <p><code>true</code> if physics is enabled, <code>false</code> otherwise.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_isRemoved" class="method item">
    <h3 class="name"><code>isRemoved</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l1019"><code>src&#x2F;Stage.js:1019</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Indicates whether this instance has been removed from the stage.</p>

    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>:
                    
                    <p><code>true</code> if this instance has been removed, <code>false</code>
otherwise.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_rectangleCollision" class="method item">
    <h3 class="name"><code>rectangleCollision</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>i</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>j</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>di</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>dj</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>Di</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>Dj</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l738"><code>src&#x2F;Stage.js:738</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Detects collisions between a rectangular area and the bounding box of
this entity instance.</p>
<p>A vector is returned indicating two I and J values that must be added
to the coordinates of the rectangular area in order to resume a
regular configuration where the area does not collide with the
instance.</p>
<p>In case there is not any collision, the returned vector is <code>(0, 0)</code>.</p>
<p>The rectangular area is specified by the <code>i</code>, <code>j</code>, <code>di</code> and <code>dj</code>
arguments.</p>
<p>The implementation of this method assumes the rectangular area
represents a moving entity (though not necessarily a Canvace entity)
which is characterized by its own velocity vector; this vector is
used in the collision algorithm in that it assumes the moving entity
cannot have compenetrated the bounding box of this instance along the
I or J axis more than the velocity vector component for that axis.
This is necessary in order to obtain a functional physics algorithm.</p>
<p>If the rectangular area actually is the bounding box of a Canvace
entity, you can specify the I and J components of its actual velocity
vector for the <code>vi</code> and <code>vj</code> arguments; such vector can be retrieved
by adding the two vectors returned by the <code>getVelocity</code> and
<code>getUniformVelocity</code> methods.</p>
<p>If specifying a velocity vector is not suitable, you can specify
arbitrary constant values; a good choice is usually 1 for both <code>vi</code>
and <code>vj</code>. However, do not specify 0, as this would <em>always</em> result in
no collision.</p>
<p>This method can be used to implement in-layer, bounding box based,
entity vs. entity collisions. If the rectangular area represents an
entity&#39;s bounding box, the <code>i</code> and <code>j</code> coordinates of its origin can
be obtained using the <code>Canvace.Stage.Instance.getPosition</code> method,
while the <code>di</code> and <code>dj</code> span values are usually constant and must be
arbitrarily determined by the developer.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">i</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                    

                    

                    <div class="param-description">
                        <p>The I coordinate of the origin of the rectangular
area. This may be a real number.</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">j</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                    

                    

                    <div class="param-description">
                        <p>The J coordinate of the origin of the rectangular
area. This may be a real number.</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">di</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                    

                    

                    <div class="param-description">
                        <p>The span of the rectangular area along the I axis.
This may be a real number.</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">dj</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                    

                    

                    <div class="param-description">
                        <p>The span of the rectangular area along the J axis.
This may be a real number.</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">Di</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                    

                    

                    <div class="param-description">
                        <p>TODO</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">Dj</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                    

                    

                    <div class="param-description">
                        <p>TODO</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>An object containing two number fields, <code>i</code> and <code>j</code>,
specifying the I and J components of the computed vector.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_remove" class="method item">
    <h3 class="name"><code>remove</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l1003"><code>src&#x2F;Stage.js:1003</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Removes the entity instance from the stage. The instance will not be
rendered any more by subsequent <code>Renderer.render</code> calls and will not
be enumerated any more by the <code>Buckets.forEachElement</code> method.</p>
<p>This method does not do anything if the instance has already been
removed or replaced with another entity using the <code>replaceWith</code>
method.</p>

    </div>

    

    

    
</div>

                
                    <div id="method_replaceWith" class="method item">
    <h3 class="name"><code>replaceWith</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>entity</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="../classes/Canvace.Stage.Instance.html" class="crosslink">Canvace.Stage.Instance</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l1028"><code>src&#x2F;Stage.js:1028</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Replaces this entity instance with a new instance of another entity.</p>
<p>After being replaced, this instance becomes invalid and this object
should be discarded. The method returns a new <code>Stage.Instance</code> object
that can be used to control the new instance.</p>
<p>The new instance inherits this instance&#39;s position, velocity and
acceleration vectors.</p>
<p>This method throws an exception if it is invoked after the instance
has been removed or already replaced by a previous call.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">entity</code>
                        <span class="type"><a href="../classes/Canvace.Stage.Entity.html" class="crosslink">Canvace.Stage.Entity</a></span>
                    

                    

                    <div class="param-description">
                        <p>An entity to be instantiated
and whose new instance must replace this one.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="../classes/Canvace.Stage.Instance.html" class="crosslink">Canvace.Stage.Instance</a></span>:
                    
                    <p>A new <code>Stage.Instance</code> object
representing the new instance.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_testCollision" class="method item">
    <h3 class="name"><code>testCollision</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>otherInstance</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l843"><code>src&#x2F;Stage.js:843</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Tests for collisions between this entity instance and the specified
one.</p>
<p>This method invokes the <code>rectangleCollision</code> method of the specified
<em>other</em> instance using the position of <em>this</em> instance, its current
full velocity vector and the bounding box of its entity as set in the
Canvace Development Environment.</p>
<p>This method does not change the state of the instances in any way; it
only forwards the return value of the <code>rectangleCollision</code> method to
the caller.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">otherInstance</code>
                        <span class="type"><a href="../classes/Canvace.Stage.Instance.html" class="crosslink">Canvace.Stage.Instance</a></span>
                    

                    

                    <div class="param-description">
                        <p>Another <code>Instance</code>
object that is tested for collisions with this instance.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>A vector that is computed by the method and can be
used to restore a &quot;regular&quot; configuration where the specified
instance does not collide with this instance.</p>
<p>See the <code>Canvace.Stage.Instance.rectangleCollision</code> method for more
information, the return value is the same.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_testTileCollision" class="method item">
    <h3 class="name"><code>testTileCollision</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code class="optional">[collides]</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[tileMap]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l598"><code>src&#x2F;Stage.js:598</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Tests for collisions between this entity instance and the tiles of
the specified <code>Canvace.TileMap</code>.</p>
<p>This method invokes the <code>Canvace.TileMap.rectangleCollision</code> using
the position of the instance, its current full velocity vector and
the bounding box of its entity, as set in the Canvace Development
Environment.</p>
<p>This method does not change the state of the instance in any way; it
only forwards the return value of the
<code>Canvace.TileMap.rectangleCollision</code> method to the caller.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name optional">[collides]</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    

                    <div class="param-description">
                        <p>An optional user-defined callback
function that is invoked by the <code>testTileCollision</code> method for every
tile that collides with the instance.</p>
<p>The function receives two arguments, the tile&#39;s solid flag and its
properties, and must return a boolean value indicating whether the
tile is &quot;solid&quot; for this instance and must be taken into account as a
colliding tile. If the function returns <code>false</code> the tile is <em>not</em>
taken into account.</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name optional">[tileMap]</code>
                        <span class="type"><a href="../classes/Canvace.TileMap.html" class="crosslink">Canvace.TileMap</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    

                    <div class="param-description">
                        <p>An optional <code>Canvace.TileMap</code>
object whose tiles are tested for collisions with this entity
instance. When not specified, this stage&#39;s tile map is used.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>A vector that is computed by the method and can be
used to restore a &quot;regular&quot; configuration where the entity instance
does not collide with the tiles.</p>
<p>See the <code>Canvace.TileMap.rectangleCollision</code> method for more
information, the return value is the same.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_tick" class="method item">
    <h3 class="name"><code>tick</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>dt</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l963"><code>src&#x2F;Stage.js:963</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>&quot;Ticks&quot; the instance, updating its position based on its velocity and
its velocity based on its acceleration.</p>
<p>This method is automatically called by the <code>Canvace.Stage.tick</code>
method if the entity has physics enabled.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">dt</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                    

                    

                    <div class="param-description">
                        <p>TODO</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_tileCollision" class="method item">
    <h3 class="name"><code>tileCollision</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code class="optional">[collides]</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[tileMap]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l644"><code>src&#x2F;Stage.js:644</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Reacts to possible collisions between this entity instance and the
tiles of the specified
<a href="../classes/Canvace.TileMap.html" class="crosslink">Canvace.TileMap</a>.</p>
<p>This method invokes the <code>Canvace.TileMap.rectangleCollision</code> method
using the position of the instance, its current full velocity vector
and the bounding box of its entity, as set in the Canvace Development
Environment.</p>
<p>It then reacts to the collision by updating the state of the instance
trying to resume a regular configuration where there is no collision.</p>
<p>Specifically, the position of the instance is updated by adding the I
and J components of the vector returned by
<code>Canvace.TileMap.rectangleCollision</code> and each one of the I and J
components of the velocity vector is set to zero only if its sign is
the opposite of the corresponding component in the vector returned by
<code>Canvace.TileMap.rectangleCollision</code>.</p>
<p>Note that only the velocity vector is changed, the uniform velocity
vector is not.</p>
<p>The vector returned by <code>Canvace.TileMap.rectangleCollision</code> is also
forwarded to the caller.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name optional">[collides]</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    

                    <div class="param-description">
                        <p>TODO</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name optional">[tileMap]</code>
                        <span class="type"><a href="../classes/Canvace.TileMap.html" class="crosslink">Canvace.TileMap</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    

                    <div class="param-description">
                        <p>A <code>Canvace.TileMap</code> object whose
tiles are tested for collisions with this entity instance.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    <p>The vector object returned by the
<code>rectangleCollision</code> method of
<a href="../classes/Canvace.TileMap.html" class="crosslink">Canvace.TileMap</a>.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_update" class="method item">
    <h3 class="name"><code>update</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Stage.js.html#l986"><code>src&#x2F;Stage.js:986</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Updates the instance so that its graphical representation in
subsequent renderings reflect its actual position.</p>
<p>Since this method is potentially costly, it should be called only
once per instance at each iteration of the render loop. This is what
the <code>RenderLoop</code> class does.</p>
<p>This method is automatically called by the <code>Canvace.Stage.update</code>
method if the entity has physics enabled.</p>

    </div>

    

    

    
</div>

                
            </div>
        

        

        

        
    </div>
</div>

                        </div>
                    </div>
                </div>
            </div>

    		<div id="disqus_thread"></div>
    		<script type="text/javascript">
    			var disqus_shortname = 'canvace';

    			(function() {
    				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    				dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    				(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    			})();
    		</script>
    		<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    		<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </div>

	<div class="footer">
		<div class="inner">
			<div>
				Canvace Srl - Via Luigi Casale, 7 - 05100 Terni (Italia) - VAT/P. IVA 01485160558
				&nbsp;
				<a href="https://www.iubenda.com/privacy-policy/282298" class="iubenda-black iubenda-embed" title="Privacy Policy">Privacy Policy</a><script type="text/javascript">(function (w,d) {var loader = function () {var s = d.createElement("script"), tag = d.getElementsByTagName("script")[0]; s.src = "https://cdn.iubenda.com/iubenda.js"; tag.parentNode.insertBefore(s,tag);}; if(w.addEventListener){w.addEventListener("load", loader, false);}else if(w.attachEvent){w.attachEvent("onload", loader);}else{w.onload = loader;}})(window, document);</script>
			</div>

            <div id="powered-by">
                Proudly powered by:<br>
                <a href="http://www.luissenlabs.com/" target="_blank"><img src="../assets/media/enlabs.png" alt="Powered by EnLabs" /></a>
                <a href="http://www.nodejs.org/" target="_blank"><img src="../assets/media/nodejs.png" alt="Powered by Node.js" /></a>
                <a href="http://www.microsoft.com/bizspark/" target="_blank"><img src="../assets/media/bizspark.png" alt="Powered by Microsoft Bizspark" /></a>
            </div>
		</div>
	</div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
